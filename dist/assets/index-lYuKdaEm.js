import{X as _,r as p,c as k,b as e,a as l,w as n,N as t,U as z,o as V,y as f,P,R as $}from"./index-C-7RJgkn.js";import{s as v}from"./index-CA8W0Dso.js";import{s as C}from"./index-md5hE0pG.js";import{b as N}from"./index-CUnwFEp1.js";import{s as x}from"./index-DF9WDu2i.js";import"./index-CrBVI4KK.js";import"./index-C3KlkN14.js";const S={class:"p-4 text-color bg-surface-50 h-screen"},A={class:"mt-4 flex gap-4"},R={class:"flex flex-col gap-2 text-sm"},U={class:"flex items-center gap-1"},B={class:"flex flex-col"},D={class:"flex flex-col gap-2 text-sm"},L={class:"flex items-center gap-2"},T={class:"font-bold"},E={class:"flex items-center gap-2"},H={class:"font-bold"},I={class:"flex items-center gap-2"},J={__name:"index",setup(q){const d=_(),g=z(),b=d.params.partner,m=d.query.ordercode,i=p(!1),r=p(!1),u=[{value:"1",label:"Nhãn A5"},{value:"2",label:"Nhãn A6"},{value:"100",label:"Nhãn A7"}],w={viettelpost:"Viettel Post",yunda:"Yunda Express"},c=p(u[0].value),h=async()=>{try{r.value=!0;const a=new Date().getTime()+3600*1e3,s=[m],o=await P.post("connector/viettelpost/order/print",{expiryTime:a,orderArray:s});console.log(o.data);const y=`https://digitalize.viettelpost.vn/DigitalizePrint/report.do?type=${c.value}&bill=${o.data.data.message}&showPostage=${i.value?1:0}`;window.open(y,"_blank")}catch(a){console.log(a),$.error("Lấy code in mã đơn thất bại")}finally{r.value=!1}};return(a,s)=>(V(),k("div",S,[s[9]||(s[9]=e("span",{class:"text-2xl text-color font-bold"},"In vận đơn",-1)),e("div",A,[l(t(v),{class:"w-1/2"},{title:n(()=>[...s[3]||(s[3]=[e("span",{class:"font-medium text-primary"},"Tùy chọn",-1)])]),content:n(()=>[e("div",R,[e("div",U,[l(t(C),{modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=o=>i.value=o),binary:"",id:"showPostage",size:"small"},null,8,["modelValue"]),s[4]||(s[4]=e("label",{for:"showPostage",class:"mt-1 text-sm font-medium"},"Hiển thị cước phí",-1))]),e("div",B,[s[5]||(s[5]=e("label",{for:"printSize",class:"text-sm font-medium"},"Kích cỡ in",-1)),l(t(N),{modelValue:c.value,"onUpdate:modelValue":s[1]||(s[1]=o=>c.value=o),options:u,optionLabel:"label",optionValue:"value",checkmark:"",placeholder:"Chọn kích cỡ in",size:"small",class:"w-40",id:"printSize"},null,8,["modelValue"])])])]),_:1}),l(t(v),{class:"w-1/2"},{title:n(()=>[...s[6]||(s[6]=[e("span",{class:"font-medium text-primary"},"Chi tiết",-1)])]),content:n(()=>[e("div",D,[e("div",L,[s[7]||(s[7]=e("span",{class:"block min-w-18"},"Mã vận đơn:",-1)),e("span",T,f(t(m)),1)]),e("div",E,[s[8]||(s[8]=e("span",{class:"block min-w-18"},"Đối tác:",-1)),e("span",H,f(w[t(b)]),1)]),e("div",I,[l(t(x),{onClick:h,label:"In vận đơn",icon:"pi pi-print",loading:r.value,size:"small",class:"w-32"},null,8,["loading"]),l(t(x),{label:"Home",icon:"pi pi-home",size:"small",onClick:s[2]||(s[2]=o=>t(g).push("/")),class:"w-32",variant:"outlined"})])])]),_:1})])]))}};export{J as default};
