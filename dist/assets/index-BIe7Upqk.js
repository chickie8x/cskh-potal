import{h as S,o as E,s as c,a as N}from"./schemas--iTa1Wle.js";import"./index-DhCtX0vz.js";import{s as z}from"./index-BF9koIpW.js";import{c as f,d,a as v}from"./index-BESmW-u8.js";import{s as b}from"./index-BReoh1wR.js";import{s as w}from"./index-Bft8jWOf.js";import{s as A}from"./index-ZuTC74PY.js";import{Z as B,r as m,c as C,b as e,a as r,w as t,N as a,U as R,o as p,e as g,j as x,A as y,y as h,n as T,R as q,P as U}from"./index-Ba0-uRri.js";const D="/images/login-splash.avif",$={class:"h-screen flex"},F={class:"w-1/2 h-full bg-surface-50 dark:bg-surface-950 flex items-center justify-center"},I={class:"bg-surface-0 dark:bg-surface-900 shadow-sm p-8 w-[400px] rounded-md"},Z={class:"flex flex-col gap-1"},G={class:"flex flex-col gap-1"},H={class:"py-2 flex items-center justify-between text-sm"},ss={__name:"index",setup(J){const n=B(),l=m(!1),u=m(!1),k=R(),_=async o=>{if(console.log(o),!o.valid){q.error("Email and password are required");return}try{const s=await U.post("/auth/login",o.values);n.setAccessToken(s.data.data.token),n.setRefreshToken(s.data.data.refreshToken),n.setUserAddress(s.data.data.address),k.push({name:"Dashboard"})}catch(s){console.log(s)}},V=m(S(E({email:c().min(1,"Email is required").max(255,"Email must be at most 255 characters long"),password:c().min(1,"Password is required").max(255,"Password must be at most 255 characters long")}))),j=()=>{l.value=!l.value};return(o,s)=>(p(),C("div",$,[s[6]||(s[6]=e("div",{class:"w-1/2 h-full relative"},[e("img",{src:D,class:"h-full w-full object-cover",alt:""}),e("div",{class:"absolute inset-0 bg-black opacity-50"})],-1)),e("div",F,[e("div",I,[s[5]||(s[5]=e("div",{class:"pb-4 flex items-center justify-center"},[e("span",{class:"text-primary font-bold text-2xl"},"Sign In")],-1)),r(a(N),{initialValues:{email:"",password:""},resolver:V.value,onSubmit:_,class:"flex flex-col gap-4 w-full"},{default:t(i=>[e("div",Z,[r(a(w),{variant:"on"},{default:t(()=>[r(a(f),{name:"email"},{default:t(()=>[r(a(d),{class:"pi pi-envelope"}),r(a(v),{id:"email",name:"email",type:"text",fluid:""})]),_:1}),s[1]||(s[1]=e("label",{for:"email"},"Email",-1))]),_:1}),i.email?.invalid?(p(),g(a(b),{key:0,severity:"error",size:"small",variant:"simple"},{default:t(()=>[y(h(i.email.error?.message),1)]),_:2},1024)):x("",!0)]),e("div",G,[r(a(w),{variant:"on"},{default:t(()=>[r(a(f),{name:"password"},{default:t(()=>[r(a(d),{class:"pi pi-lock"}),r(a(v),{id:"password",name:"password",type:l.value?"text":"password",fluid:""},null,8,["type"]),r(a(d),{class:T(l.value?"pi pi-eye":"pi pi-eye-slash"),onClick:j},null,8,["class"])]),_:1}),s[2]||(s[2]=e("label",{for:"password"},"Password",-1))]),_:1}),i.password?.invalid?(p(),g(a(b),{key:0,severity:"error",size:"small",variant:"simple"},{default:t(()=>[y(h(i.password.error?.message),1)]),_:2},1024)):x("",!0)]),e("div",H,[r(a(A),{modelValue:u.value,"onUpdate:modelValue":s[0]||(s[0]=P=>u.value=P),id:"remember",name:"remember",size:"small",binary:""},null,8,["modelValue"]),s[3]||(s[3]=e("label",{for:"remember",class:"ml-1"},"Remember me",-1)),s[4]||(s[4]=e("span",{class:"block ml-auto hover:underline hover:text-primary cursor-pointer"},"Forgot Password?",-1))]),r(a(z),{type:"submit",severity:"primary",label:"Submit"})]),_:1},8,["resolver"])])])]))}};export{ss as default};
